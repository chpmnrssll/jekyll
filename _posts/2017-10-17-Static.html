---
layout: post
title: Static
sub-title: Canvas Demo Effect
date: 2017-10-17T00:00:00.000Z
tags: HTML5 Javascript Canvas Demo Effect
---
<canvas width="256" height="256" id="canvas"></canvas>
<p>
  <br/>
  HTML5 Canvas test. Simple static effect using an offscreen imageData buffer.
  <br/>
  Adapted from original post created on <time>2012-11-03</time>.
</p>
<pre class="highlight">
var canvas, context2D, buffer, width, height, bufferSize;

window.onload = function ()
{
	//Get context, precalc some variables, and create screen buffer
	canvas = document.getElementById('canvas');
	context2D = canvas.getContext('2d');
	width = canvas.width;
	height = canvas.height;
	bufferSize = width*height;
	buffer = context2D.createImageData(width, height);

  requestAnimationFrame(update);
}

function update()
{
	//Pick random shade for every pixel (0-255)
	for(var i = 0; i < bufferSize; i++) {
		var c = Math.floor(Math.random()*255);
		var index = i*4;
		buffer.data[index++] = c;
		buffer.data[index++] = c;
		buffer.data[index++] = c;
		buffer.data[index++] = 255;
	}

	//Flip buffer to canvas
	context2D.putImageData(buffer, 0,0);
  requestAnimationFrame(update);
}
</pre>
<script>
var canvas, context2D, buffer, width, height, bufferSize;

window.onload = function ()
{
	//Get context, precalc some variables, and create screen buffer
	canvas = document.getElementById('canvas');
	context2D = canvas.getContext('2d');
	width = canvas.width;
	height = canvas.height;
	bufferSize = width*height;
	buffer = context2D.createImageData(width, height);

  requestAnimationFrame(update);
}

function update()
{
	//Pick random shade for every pixel (0-255)
	for(var i = 0; i < bufferSize; i++) {
		var c = Math.floor(Math.random()*255);
		var index = i*4;
		buffer.data[index++] = c;
		buffer.data[index++] = c;
		buffer.data[index++] = c;
		buffer.data[index++] = 255;
	}

	//Flip buffer to canvas
	context2D.putImageData(buffer, 0,0);
  requestAnimationFrame(update);
}
</script>
